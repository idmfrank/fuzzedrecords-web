<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fuzzed Records</title>
    <link rel="stylesheet" href="/static/style.css">
    <script>
        // Fetch and display tracks dynamically
        document.addEventListener("DOMContentLoaded", () => {
    fetch("/tracks")
        .then(response => response.json())
        .then(data => {
            const songsSection = document.getElementById("songs-section");
            if (data.tracks && data.tracks.length > 0) {
                songsSection.innerHTML = ""; // Clear the loading message
                data.tracks.forEach(track => {
                    const trackElement = document.createElement("div");
                    trackElement.classList.add("song-item");
                    trackElement.innerHTML = `
                        <h3>${track.title} by ${track.artist}</h3>
                        <audio controls>
                            <source src="${track.media_url}" type="audio/mpeg">
                            Your browser does not support the audio element.
                        </audio>
                    `;
                    songsSection.appendChild(trackElement);
                });
            } else {
                songsSection.innerHTML = "<p>No songs available at this time.</p>";
            }
        })
        .catch(err => {
            console.error("Error fetching tracks:", err);
            document.getElementById("songs-section").innerHTML = "<p>Error loading songs.</p>";
        });
});
    </script>
    <style>
        .songs-container {
            text-align: center;
            margin: 20px auto;
        }
        .song-item {
            margin: 20px auto;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            max-width: 500px;
            background: #f9f9f9;
        }
        .song-item h3 {
            margin: 0 0 10px;
        }
        audio {
            width: 100%;
        }
    </style>
</head>
<body>
    <div class="profile-container">
        <!-- Image -->
        <img src="/static/images/fuzzedrecords.png" alt="Fuzzed Records Logo" style="width: 200px; margin: 20px auto; display: block;">

        <!-- Intro Section -->
        <section id="intro-section" class="intro-section">
            <h1>Welcome to Fuzzed Records</h1>
            <p>An independent record label.</p>
        </section>

        <!-- Songs Section -->
        <section class="songs-container">
            <h2>Songs in our Library at <a href="https://wavlake.com" target="_blank" style="text-decoration: none; color: inherit;">Wavlake.com</a></h2>
            <div id="songs-section">
                <!-- Songs will be dynamically loaded here -->
                <p>Loading songs...</p>
            </div>
        </section>
    </div>
</body>
</html>
